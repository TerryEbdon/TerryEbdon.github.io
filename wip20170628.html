<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Developer&#39;s Diary: WebDoxy, Eclipse &amp; Engineering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="myStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="terry_avi.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Developer&#39;s Diary
   </div>
   <div id="projectbrief">Software development, with Terry Ebdon</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('wip20170628.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">WebDoxy, Eclipse &amp; Engineering </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md49">Reverse date order on the Monthly Page</a><ul><li class="level2"><a href="#autotoc_md50">Navigation bar</a></li>
<li class="level2"><a href="#autotoc_md51">PDF Output is reversed</a></li>
<li class="level2"><a href="#autotoc_md52">A choice: Contents List or nice dates?</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md53">Eclipse &ndash; Upgrading to Oxygen</a></li>
<li class="level1"><a href="#autotoc_md54">Dependency Management &amp; Inversion of Control</a><ul><li class="level2"><a href="#autotoc_md55">Spring Boot</a><ul><li class="level3"><a href="#autotoc_md56">Spring Initializr</a></li>
<li class="level3"><a href="#autotoc_md57">Spring Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md58">Interesting web pages</a><ul><li class="level2"><a href="#autotoc_md59">Eclipse</a></li>
<li class="level2"><a href="#autotoc_md60">jQuery</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="h20170628"></a><em>Wednesday 28<sup>th</sup> June, 2017</em></p>
<h1><a class="anchor" id="autotoc_md49"></a>
Reverse date order on the Monthly Page</h1>
<p>Ideally the list of daily journal pages would be reversed on the corresponding month page.</p>
<p>e.g.</p><ul>
<li>30-JUN-2017 &ndash; blah</li>
<li>29-JUN-2017 &ndash; blah blooper</li>
</ul>
<p>What's the smallest change I can make that doesn't need a change to Doxygen or it's layout? <code>MonthPage.addSubPage()</code> currently appends to the month page:</p>
<div class="fragment"><div class="line">def addSubPage( <span class="keyword">final</span> JournalPage dayPage ) {</div>
<div class="line">    <span class="comment">// ... blah ...</span></div>
<div class="line">    append <span class="stringliteral">&quot;${prefix}@subpage ${dayPage.pageAnchor}${suffix}&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Changing this would be non-trivial, and possibly brittle. If the list was ordered I could tell it to reverse itself. But that needs script / CSS, to inject the <code>reversed</code> attribute and hide the numbers. A better way would be to sort the list, with JavaScript, at run-time. This should have minimal overhead; the list has, at most, 31 items.</p>
<p>I added a few lines of script to the month page, based on a "stack overflow" answer from user VisioN.</p>
<dl class="section note"><dt>Note</dt><dd>When Doxygen sees $(blah) it assumes blah is an environment variable, and tries to insert its value.</dd></dl>
<p><a name="a15_jQuery"></a></p>
<p>I found that Doxygen was confused by the $ symbol, that jQuery uses, and was deleting things like $(Document) from the generated HTML page. Replacing <code>$</code> with <code>jQuery</code> solved the problem. (Fortunately I'd seen this before, when working on Liferay.) An alternative work-around would be to escape the dollar symbol, with \$, but I find that less reliable and possibly confusing.</p>
<dl class="section note"><dt>Note</dt><dd>Doxygen already uses jQuery; you'll find a <code>jquery.js</code> file in the output folder.</dd></dl>
<p>This is the working code: </p><div class="fragment"><div class="line">@htmlonly</div>
<div class="line">&lt;script&gt;</div>
<div class="line">jQuery( document ).ready( function() {</div>
<div class="line">    jQuery( &#39;li&#39; ).each( function() {</div>
<div class="line">        jQuery( this ).parent().prepend( this );</div>
<div class="line">    });</div>
<div class="line">});</div>
<div class="line">&lt;/script&gt;</div>
<div class="line">@endhtmlonly</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The above code is <em>moving</em> the list items, <b>not</b> copying them.</dd></dl>
<p>This script solution works, with some restrictions.</p>
<h2><a class="anchor" id="autotoc_md50"></a>
Navigation bar</h2>
<p>The navigation side-bar shows sub-pages in ascending date order, not descending. That's expected, as the page order matches the order that Doxygen parses them. i.e. the order they're mentioned in the monthly journal page. The list isn't reversed until run-time, after the navigation bar has been built.</p>
<h2><a class="anchor" id="autotoc_md51"></a>
PDF Output is reversed</h2>
<p>The script only runs in HTML pages, so the above solution can't work for Latex / PDF output.</p>
<h2><a class="anchor" id="autotoc_md52"></a>
A choice: Contents List or nice dates?</h2>
<p>By default the [TOC] and \tableofcontents commands only work if there are section headers with anchors. There's a configuration option to get a table of contents without anchors:</p>
<div class="fragment"><div class="line">TOC_INCLUDE_HEADINGS = 3</div>
</div><!-- fragment --><p>This forces markdown style headers, up to level 3, to be included. It generates its own anchors, to allow this. Unfortunately that triggers the bug that prevents me using heading anchors in the first place: superscript characters, like <sup>th</sup> stop working. The &lt;sup&gt; and &lt;/sup&gt; tags are displayed as if they've been escaped. <br  />
</p>
<p><a class="anchor" id="EclipseOxygen_20170628"></a></p>
<h1><a class="anchor" id="autotoc_md53"></a>
Eclipse â€“ Upgrading to Oxygen</h1>
<p>This machine only has the modelling framework (EMF) installed. I've been using Atom for recent development; time to get back to using a proper IDE. I'll start with a clean install of Eclipse Oxygen and add the Groovy plug-ins. I don't need EMF, as I really don't like it and found other tools to be more useful for modelling.</p>
<p>I'm currently on Groovy 2.4.7. That's recent enough that I shouldn't need to update.</p>
<p>I though I'd told the Eclipse installer to <b>not</b> install Groovy, but it seems to have done so. Eclipse is using Groovy 2.4.12, but a command prompt still uses 2.4.7. That'd be one reason that the download was so slow.</p>
<p>I'd forgotten how tiny Eclipse's buttons are, on a high resolution screen. They're really difficult to differentiate. This was supposed to have been fixed in Eclipse Nemo, according to various stack exchange posts. But the fix may have only addressed part of the issue, maybe? Eclipse Bug 421383 is marked as fixed. There's an interesting comment, No. 60, which details a work-around for Microsoft Windows. Subsequent posts verify that it works, so will be worth a try. Subsequent comments detail possible issues and further work-around. A similar fix is on <a href="https://stackoverflow.com/questions/20718093/eclipse-interface-icons-very-small-on-high-resolution-screen-in-windows-8-1">this stack exchange page</a></p>
<p>On the plus side, Eclipse finally supports zooming text (via ctrl/+, CTRL/-), without having to search for plug-ins.</p>
<p>A test project runs fine. I've imported WebDoxy as a project, but it doesn't run. There's a conflict between Eclipse and <code>AntBuilder</code>. This is a major set-back, as WebDoxy depends heavily on <code>AntBuilder</code>.</p>
<div class="fragment"><div class="line">... startup failed:</div>
<div class="line">General error during class generation:</div>
<div class="line">    java.lang.NoClassDefFoundError:</div>
<div class="line">    Unable to load class groovy.util.AntBuilder due to missing</div>
<div class="line">    dependency org/apache/tools/ant/BuildException</div>
</div><!-- fragment --><p>The Eclipse build path seems to use the embeddable jar from its Groovy 2.4.12 install. This should be fine.</p>
<dl class="section note"><dt>Note</dt><dd>Fixed! See <a class="el" href="wip20170629.html#EclipseOxygen_20170629">Thursday's journal entry</a> for the details.</dd></dl>
<h1><a class="anchor" id="autotoc_md54"></a>
Dependency Management &amp; Inversion of Control</h1>
<h2><a class="anchor" id="autotoc_md55"></a>
Spring Boot</h2>
<p><a name="a16_Spring:20Boot"></a></p>
<ul>
<li>Cloud native ready.</li>
<li>Can run in a "traditional" environment.</li>
<li>Embedded app server<ul>
<li>defaults to Tomcat. Can use others, e.g. Jetty.</li>
</ul>
</li>
<li>Supports database pre-population:<ul>
<li>Schema</li>
<li>Data</li>
</ul>
</li>
<li>Component scanning, via annotations.</li>
</ul>
<h3><a class="anchor" id="autotoc_md56"></a>
Spring Initializr</h3>
<p><a name="a17_Spring:20Initializr"></a></p>
<ul>
<li><a href="https://start.spring.io">https://start.spring.io</a></li>
<li>Choice of project types:<ul>
<li>Maven</li>
<li>Gradle</li>
</ul>
</li>
<li>Choice of Spring Boot framework versions.</li>
<li>Choice of jar or war packaging<ul>
<li>war for server deployment</li>
<li>jar for local deployment... ish.</li>
</ul>
</li>
<li>Choice of JVM language:<ul>
<li>Java</li>
<li>Groovy</li>
<li>Kotlin</li>
</ul>
</li>
<li>Choice of database<ul>
<li>external databases</li>
<li>embedded databases</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md57"></a>
Spring Data</h3>
<p><a name="a18_Spring:20Data"></a></p>
<ul>
<li>Easy swapping of data source</li>
<li>Reduced quantity of data access code.</li>
<li>Key Components<ul>
<li>Repository &ndash; Repository Pattern?<ul>
<li>CrudRepository</li>
<li>...</li>
</ul>
</li>
<li>Entity</li>
</ul>
</li>
<li>Automatically generates query methods based on the name. Nice!</li>
</ul>
<h1><a class="anchor" id="autotoc_md58"></a>
Interesting web pages</h1>
<h2><a class="anchor" id="autotoc_md59"></a>
Eclipse</h2>
<ul>
<li><a href="https://github.com/groovy/groovy-eclipse/wiki">Groovy Eclipse Wiki</a></li>
<li><a href="https://www.eclipse.org/downloads/download.php?file=/oomph/epp/oxygen/R/eclipse-inst-win64.exe&amp;mirror_id=17">Eclipse Download</a></li>
<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=421383">Bug 421383 - [Graphics] Scaling issues on high DPI displays</a> &ndash; status: fixed<ul>
<li>Eclipse Bugzilla.</li>
</ul>
</li>
<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=421383#c60">Comment 60 on bug 421383</a> &ndash; possible work-around from Matthew Cochrane.</li>
<li><a href="https://stackoverflow.com/questions/20718093/eclipse-interface-icons-very-small-on-high-resolution-screen-in-windows-8-1">Eclipse interface icons very small on high resolution screen in Windows 8.1</a> &ndash; stack exchange.</li>
</ul>
<h2><a class="anchor" id="autotoc_md60"></a>
jQuery</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/20688680/how-do-i-reverse-the-order-of-a-list-with-jquery">How do I reverse the order of a list with jquery [duplicate]</a> &ndash; stack overflow; VisioN's answer.</li>
<li><a href="https://stackoverflow.com/questions/5347839/jquery-reversing-the-order-of-child-elements">jQuery reversing the order of child elements</a> &ndash; stack overflow; Anurag's answer.</li>
<li><a href="https://stackoverflow.com/questions/130794/what-is-dependency-injection/130862#130862">What is dependency injection?</a> &ndash; One of the nicer summaries that I've seen, from stack overflow user <code>wds</code>.</li>
</ul>
<p> 
<hr/>
<a class='btn' href='#h20170628'>Top of page</a></span>
<a class='btn' href='index.html'>Recent Posts</a></span>
<a class='btn' href='wip201706.html'>The Archives</a></span>
 <span class="copyright">&copy; 2017 <a href="AboutMe.html" title="Terry Ebdon">Terry Ebdon.</a></span><br  />
<p>Find me coding on <a title="terry_ebdon on BitBucket"
href="https://github.com/TerryEbdon">GitHub,</a> networking on <a
title="Terry Ebdon on LinkedIn"
href="https://www.linkedin.com/in/talent/">LinkedIn</a> and hanging out on <a
title="@terry_ebdon" href="https://twitter.com/@terry_ebdon">twitter.</a> </p>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 27 2020 12:31:08 for Developer&#39;s Diary by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
