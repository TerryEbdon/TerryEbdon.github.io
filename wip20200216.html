<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Developer&#39;s Diary: 16-Feb-2020 Batch Jobs &amp; PlantUML</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="myStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="terry_avi.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Developer&#39;s Diary
   </div>
   <div id="projectbrief">Software development, with Terry Ebdon</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('wip20200216.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">16-Feb-2020 Batch Jobs &amp; PlantUML </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md231">RSTS/E Batch jobs</a></li>
<li class="level1"><a href="#autotoc_md232">Doxygen working</a></li>
<li class="level1"><a href="#autotoc_md233">SALT fixed</a></li>
<li class="level1"><a href="#autotoc_md234">PostProd repo</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="h20200216"></a> </p>
<h1><a class="anchor" id="autotoc_md231"></a>
RSTS/E Batch jobs</h1>
<p>Spent some time last night reading the RSTS/E V7.0 System User's Guide, to remind myself how batch queues work. I'm thinking about how RSTS/E jobs can cooperate with an app on the host system. Batch jobs aren't the best way to use a RSTS/E system, but it will do as a proof of concept. My idea boils down to a host app that acts as a remote job entry system for a RSTS/E batch queue. The fly in the ointment is communication between the emulated RSTS/E job and the app running on the host. I can't use message send / receive SYS calls on the host. File based messaging is better, but the PDP-11 emulator locks attached files. I need the host app to talk to the RSTS/E job and <em>and</em> the PDP-11 emulator. I also want to avoid using Auto Hot Key or other host-specific tools. My current idea is for the RSTS/E job to trigger an emulator script to attach / detach files and tell the job when they're available. The host app then becomes very simple, it just reads and writes files. I need to diagram this, maybe using state machines.</p>
<h1><a class="anchor" id="autotoc_md232"></a>
Doxygen working</h1>
<p>After a lot of experimentation I have Doxygen working correctly with PlantUML again, without having to use paths in PlantUML's <code>!include</code> statements. Part of the problem is that PlantUML's <code>%file-exists()</code> function lied to me. This was very confusing when trying to debug the issue. I have everything working in a simple test project that does not use WebDoxy. I'll try to reuse this configuration in my PostProd documentation project, which currently bypasses WebDoxy. PostProd works fine with some minor changes. The important change is to add a PlantUML include folder, relative to the project root, into <code>Doxyfile</code>. I configured the existing include folder as the PlantUML include directory. There are two missing diagrams remaining, both using SALT.</p>
<h1><a class="anchor" id="autotoc_md233"></a>
SALT fixed</h1>
<p>The SALT issues were due to an error on my part. I had <code>@startuml</code> followed by a <code>@startsalt</code> command. That's wrong, the <code>@startsalt</code> / <code>@endsalt</code> pair is an alternative to <code>@startuml</code> / <code>@enduml</code>, not in addition to it. The embedded SALT description is then started with <code>salt</code>.</p>
<h1><a class="anchor" id="autotoc_md234"></a>
PostProd repo</h1>
<p>PostProd is excluded from version control by the <code>.gitignore</code> file. This seems like a good time to move it into a stand-alone folder and create a Git project for it.</p>
<p> 
<a class='btn' href='wip20200213.html'>13-FEB-2020 ðŸ‘ˆ</a>
<a class='btn' href='#h20200216'>Top of page</a>
<a class='btn' href='wip20200217.html'>ðŸ‘‰ 17-FEB-2020</a>
</p>
<p><span class="copyright">&copy; 2020 <a href="_about_me.html" title="Terry Ebdon">Terry Ebdon.</a></span><br  />
<p>Find me coding on <a title="terry_ebdon on BitBucket"
href="https://github.com/TerryEbdon">GitHub,</a> networking on <a
title="Terry Ebdon on LinkedIn"
href="https://www.linkedin.com/in/talent/">LinkedIn</a> and hanging out on <a
title="@terry_ebdon" href="https://twitter.com/@terry_ebdon">twitter.</a> </p>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 19 2020 14:33:41 for Developer&#39;s Diary by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
